<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ ìˆ˜ë„ í€´ì¦ˆ ì±Œë¦°ì§€</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 10px;
        }

        .game-container {
            width: 360px;
            height: 640px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .scene {
            display: none;
            padding: 40px 30px;
            height: 100%;
            position: relative;
            text-align: center;
        }

        .scene.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .title {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .description {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .question {
            font-size: 24px;
            color: #333;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .options-container {
            width: 100%;
            margin-bottom: 30px;
        }

        .option {
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #f0f0f0;
            margin-right: 15px;
            font-weight: bold;
            font-size: 14px;
        }

        .option.selected .option-letter {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .btn {
            width: 200px;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result-message {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .success {
            color: #28a745;
        }

        .fail {
            color: #dc3545;
        }

        .coupon {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
            padding: 20px;
            border-radius: 15px;
            color: white;
            margin: 20px 0;
            font-size: 20px;
            font-weight: 700;
        }

        .progress {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            color: #333;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotateZ(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotateZ(720deg);
                opacity: 0;
            }
        }

        .slide-animation {
            position: absolute;
            top: 50%;
            left: -100px;
            transform: translateY(-50%);
            animation: slide-right 4s ease-in-out;
        }

        @keyframes slide-right {
            0% { left: -100px; }
            50% { left: calc(50% - 50px); }
            100% { left: calc(100% + 50px); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- ê²Œì„ ì‹œì‘ í™”ë©´ -->
        <div class="scene active fade-in" id="start-scene">
            <div class="title">ğŸŒ ìˆ˜ë„ í€´ì¦ˆ ì±Œë¦°ì§€</div>
            <div class="description">3ê°œ êµ­ê°€ì˜ ìˆ˜ë„ë¥¼ ë§ì¶°ë³´ì„¸ìš”!<br>ì •ë‹µ ì‹œ ì¿ í°ì„ ë“œë ¤ìš”!</div>
            <button class="btn" onclick="startGame()">â–¶ ê²Œì„ ì‹œì‘</button>
        </div>

        <!-- ë¬¸ì œ í™”ë©´ -->
        <div class="scene" id="quiz-scene">
            <div class="progress" id="progress">1/3</div>
            <div class="question" id="question">ğŸ‡°ğŸ‡· ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ëŠ”?</div>
            <div class="options-container" id="options-container">
                <!-- ê°ê´€ì‹ ì„ íƒì§€ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
            <button class="btn" onclick="submitAnswer()" id="submit-btn" disabled>ì œì¶œí•˜ê¸°</button>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="scene" id="result-scene">
            <div class="result-message" id="result-message"></div>
            <div id="coupon-container"></div>
            <button class="btn" onclick="goHome()">ğŸ  í™ˆìœ¼ë¡œ</button>
        </div>
    </div>

    <audio id="success-sound" preload="auto">
        <source src="suc_01.mp3" type="audio/mpeg">
    </audio>
    <audio id="fail-sound" preload="auto">
        <source src="fail_02.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ì „ì„¸ê³„ êµ­ê°€ì™€ ìˆ˜ë„ ë°ì´í„° (ìœ ëª…í•œ ë„ì‹œë“¤ í¬í•¨)
        const countries = [
            {name: "ëŒ€í•œë¯¼êµ­", capital: "ì„œìš¸", flag: "ğŸ‡°ğŸ‡·", cities: ["ì„œìš¸", "ë¶€ì‚°", "ì¸ì²œ", "ëŒ€êµ¬"]},
            {name: "í”„ë‘ìŠ¤", capital: "íŒŒë¦¬", flag: "ğŸ‡«ğŸ‡·", cities: ["íŒŒë¦¬", "ë§ˆë¥´ì„¸ìœ ", "ë¦¬ì˜¹", "íˆ´ë£¨ì¦ˆ"]},
            {name: "ë¸Œë¼ì§ˆ", capital: "ë¸Œë¼ì§ˆë¦¬ì•„", flag: "ğŸ‡§ğŸ‡·", cities: ["ë¸Œë¼ì§ˆë¦¬ì•„", "ìƒíŒŒìš¸ë£¨", "ë¦¬ìš°ë°ìë„¤ì´ë£¨", "ì‚´ë°”ë„ë¥´"]},
            {name: "í˜¸ì£¼", capital: "ìº”ë²„ë¼", flag: "ğŸ‡¦ğŸ‡º", cities: ["ì‹œë“œë‹ˆ", "ìº”ë²„ë¼", "ë©œë²„ë¥¸", "ë¸Œë¦¬ì¦ˆë²ˆ"]},
            {name: "ì¼ë³¸", capital: "ë„ì¿„", flag: "ğŸ‡¯ğŸ‡µ", cities: ["ë„ì¿„", "ì¿„í† ", "ì˜¤ì‚¬ì¹´", "ë‚˜ê³ ì•¼"]},
            {name: "ì¤‘êµ­", capital: "ë² ì´ì§•", flag: "ğŸ‡¨ğŸ‡³", cities: ["ë² ì´ì§•", "ìƒí•˜ì´", "ê´‘ì €ìš°", "ì„ ì „"]},
            {name: "ë¯¸êµ­", capital: "ì›Œì‹±í„´ D.C.", flag: "ğŸ‡ºğŸ‡¸", cities: ["ì›Œì‹±í„´ D.C.", "ë‰´ìš•", "ë¡œìŠ¤ì•¤ì ¤ë ˆìŠ¤", "ì‹œì¹´ê³ "]},
            {name: "ì˜êµ­", capital: "ëŸ°ë˜", flag: "ğŸ‡¬ğŸ‡§", cities: ["ëŸ°ë˜", "ë§¨ì²´ìŠ¤í„°", "ë²„ë°ì—„", "ë¦¬ë²„í’€"]},
            {name: "ë…ì¼", capital: "ë² ë¥¼ë¦°", flag: "ğŸ‡©ğŸ‡ª", cities: ["ë² ë¥¼ë¦°", "ë®Œí—¨", "í•¨ë¶€ë¥´í¬", "ì¾°ë¥¸"]},
            {name: "ì´íƒˆë¦¬ì•„", capital: "ë¡œë§ˆ", flag: "ğŸ‡®ğŸ‡¹", cities: ["ë¡œë§ˆ", "ë°€ë¼ë…¸", "ë‚˜í´ë¦¬", "í† ë¦¬ë…¸"]},
            {name: "ìŠ¤í˜ì¸", capital: "ë§ˆë“œë¦¬ë“œ", flag: "ğŸ‡ªğŸ‡¸", cities: ["ë§ˆë“œë¦¬ë“œ", "ë°”ë¥´ì…€ë¡œë‚˜", "ë°œë Œì‹œì•„", "ì„¸ë¹„ì•¼"]},
            {name: "ëŸ¬ì‹œì•„", capital: "ëª¨ìŠ¤í¬ë°”", flag: "ğŸ‡·ğŸ‡º", cities: ["ëª¨ìŠ¤í¬ë°”", "ìƒíŠ¸í˜í…Œë¥´ë¶€ë¥´í¬", "ë…¸ë³´ì‹œë¹„ë¥´ìŠ¤í¬", "ì˜ˆì¹´í…Œë¦°ë¶€ë¥´í¬"]},
            {name: "ì¸ë„", capital: "ë‰´ë¸ë¦¬", flag: "ğŸ‡®ğŸ‡³", cities: ["ë‰´ë¸ë¦¬", "ë­„ë°”ì´", "ì½œì¹´íƒ€", "ë°©ê°ˆë¡œë¥´"]},
            {name: "ìºë‚˜ë‹¤", capital: "ì˜¤íƒ€ì™€", flag: "ğŸ‡¨ğŸ‡¦", cities: ["ì˜¤íƒ€ì™€", "í† ë¡ í† ", "ëª¬íŠ¸ë¦¬ì˜¬", "ë°´ì¿ ë²„"]},
            {name: "ë©•ì‹œì½”", capital: "ë©•ì‹œì½”ì‹œí‹°", flag: "ğŸ‡²ğŸ‡½", cities: ["ë©•ì‹œì½”ì‹œí‹°", "ê³¼ë‹¬ë¼í•˜ë¼", "ëª¬í…Œë ˆì´", "í‘¸ì—ë¸”ë¼"]},
            {name: "ì•„ë¥´í—¨í‹°ë‚˜", capital: "ë¶€ì—ë…¸ìŠ¤ì•„ì´ë ˆìŠ¤", flag: "ğŸ‡¦ğŸ‡·", cities: ["ë¶€ì—ë…¸ìŠ¤ì•„ì´ë ˆìŠ¤", "ì½”ë¥´ë„ë°”", "ë¡œì‚¬ë¦¬ì˜¤", "ë©˜ë„ì‚¬"]},
            {name: "ì´ì§‘íŠ¸", capital: "ì¹´ì´ë¡œ", flag: "ğŸ‡ªğŸ‡¬", cities: ["ì¹´ì´ë¡œ", "ì•Œë ‰ì‚°ë“œë¦¬ì•„", "ê¸°ì", "ìˆ˜ì—ì¦ˆ"]},
            {name: "ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­", capital: "í”„ë¦¬í† ë¦¬ì•„", flag: "ğŸ‡¿ğŸ‡¦", cities: ["í”„ë¦¬í† ë¦¬ì•„", "ìš”í•˜ë„¤ìŠ¤ë²„ê·¸", "ì¼€ì´í”„íƒ€ìš´", "ë”ë°˜"]},
            {name: "íƒœêµ­", capital: "ë°©ì½•", flag: "ğŸ‡¹ğŸ‡­", cities: ["ë°©ì½•", "ì¹˜ì•™ë§ˆì´", "íŒŒíƒ€ì•¼", "í‘¸ì¼“"]},
            {name: "ë² íŠ¸ë‚¨", capital: "í•˜ë…¸ì´", flag: "ğŸ‡»ğŸ‡³", cities: ["í•˜ë…¸ì´", "í˜¸ì¹˜ë¯¼ì‹œ", "ë‹¤ë‚­", "í•˜ì´í"]},
            {name: "ì¸ë„ë„¤ì‹œì•„", capital: "ìì¹´ë¥´íƒ€", flag: "ğŸ‡®ğŸ‡©", cities: ["ìì¹´ë¥´íƒ€", "ìˆ˜ë¼ë°”ì•¼", "ë°˜ë‘¥", "ë©”ë‹¨"]},
            {name: "í„°í‚¤", capital: "ì•™ì¹´ë¼", flag: "ğŸ‡¹ğŸ‡·", cities: ["ì•™ì¹´ë¼", "ì´ìŠ¤íƒ„ë¶ˆ", "ì´ì¦ˆë¯¸ë¥´", "ë¶€ë¥´ì‚¬"]},
            {name: "ê·¸ë¦¬ìŠ¤", capital: "ì•„í…Œë„¤", flag: "ğŸ‡¬ğŸ‡·", cities: ["ì•„í…Œë„¤", "í…Œì‚´ë¡œë‹ˆí‚¤", "íŒŒíŠ¸ë¼", "ì´ë¼í´ë¦¬ì˜¤"]},
            {name: "ë„¤ëœë€ë“œ", capital: "ì•”ìŠ¤í…Œë¥´ë‹´", flag: "ğŸ‡³ğŸ‡±", cities: ["ì•”ìŠ¤í…Œë¥´ë‹´", "ë¡œí…Œë¥´ë‹´", "í—¤ì´ê·¸", "ìœ„íŠ¸ë ˆííŠ¸"]},
            {name: "ë²¨ê¸°ì—", capital: "ë¸Œë¤¼ì…€", flag: "ğŸ‡§ğŸ‡ª", cities: ["ë¸Œë¤¼ì…€", "ì•ˆíŠ¸ë² ë¥´íœ", "ê²íŠ¸", "ë¸Œë¤¼í—¤"]},
            {name: "ìŠ¤ìœ„ìŠ¤", capital: "ë² ë¥¸", flag: "ğŸ‡¨ğŸ‡­", cities: ["ë² ë¥¸", "ì·¨ë¦¬íˆ", "ì œë„¤ë°”", "ë°”ì ¤"]},
            {name: "ìŠ¤ì›¨ë´", capital: "ìŠ¤í†¡í™€ë¦„", flag: "ğŸ‡¸ğŸ‡ª", cities: ["ìŠ¤í†¡í™€ë¦„", "ì˜ˆí…Œë³´ë¦¬", "ë§ë«¼", "ì›ì‚´ë¼"]},
            {name: "ë…¸ë¥´ì›¨ì´", capital: "ì˜¤ìŠ¬ë¡œ", flag: "ğŸ‡³ğŸ‡´", cities: ["ì˜¤ìŠ¬ë¡œ", "ë² ë¥´ê²", "íŠ¸ë¡ í—¤ì„", "ìŠ¤íƒ€ë°©ì—ë¥´"]},
            {name: "ë´ë§ˆí¬", capital: "ì½”íœí•˜ê²", flag: "ğŸ‡©ğŸ‡°", cities: ["ì½”íœí•˜ê²", "ì˜¤ë¥´í›„ìŠ¤", "ì˜¤ë´ì„¸", "ì˜¬ë³´ë¥´"]},
            {name: "í•€ë€ë“œ", capital: "í—¬ì‹±í‚¤", flag: "ğŸ‡«ğŸ‡®", cities: ["í—¬ì‹±í‚¤", "ì—ìŠ¤í¬", "íƒí˜ë ˆ", "ë°˜íƒ€"]}
        ];

        let gameState = {
            currentQuestion: 0,
            correctAnswers: 0,
            selectedCountries: [],
            userAnswers: [],
            selectedOption: null,
            currentOptions: []
        };

        function startGame() {
            // 3ê°œ êµ­ê°€ ëœë¤ ì„ íƒ
            gameState.selectedCountries = getRandomCountries(3);
            gameState.currentQuestion = 0;
            gameState.correctAnswers = 0;
            gameState.userAnswers = [];
            
            showScene('quiz-scene');
            showQuestion();
        }

        function getRandomCountries(count) {
            const shuffled = [...countries].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function showQuestion() {
            const country = gameState.selectedCountries[gameState.currentQuestion];
            document.getElementById('progress').textContent = `${gameState.currentQuestion + 1}/3`;
            document.getElementById('question').textContent = `${country.flag} ${country.name}ì˜ ìˆ˜ë„ëŠ”?`;
            
            // ê°ê´€ì‹ ì„ íƒì§€ ìƒì„±
            createOptions(country);
            gameState.selectedOption = null;
            document.getElementById('submit-btn').disabled = true;
        }

        function createOptions(correctCountry) {
            // í•´ë‹¹ ë‚˜ë¼ì˜ ìœ ëª…í•œ ë„ì‹œ 4ê°œë¥¼ ì„ íƒì§€ë¡œ ì‚¬ìš©
            const cityOptions = [...correctCountry.cities].sort(() => 0.5 - Math.random());
            
            gameState.currentOptions = cityOptions.map(city => ({
                capital: city,
                isCorrect: city === correctCountry.capital
            }));
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            cityOptions.forEach((city, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.onclick = () => selectOption(index);
                
                const letter = String.fromCharCode(65 + index); // A, B, C, D
                optionElement.innerHTML = `
                    <span class="option-letter">${letter}</span>
                    <span>${city}</span>
                `;
                
                optionsContainer.appendChild(optionElement);
            });
        }

        function selectOption(index) {
            // ì´ì „ ì„ íƒ ì œê±°
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // ìƒˆ ì„ íƒ ì¶”ê°€
            document.querySelectorAll('.option')[index].classList.add('selected');
            gameState.selectedOption = index;
            document.getElementById('submit-btn').disabled = false;
        }

        function submitAnswer() {
            if (gameState.selectedOption === null) {
                alert('ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }

            const country = gameState.selectedCountries[gameState.currentQuestion];
            const selectedAnswer = gameState.currentOptions[gameState.selectedOption];
            const isCorrect = selectedAnswer.isCorrect;
            
            gameState.userAnswers.push({
                country: country.name,
                userAnswer: selectedAnswer.capital,
                correctAnswer: country.capital,
                isCorrect: isCorrect
            });

            if (isCorrect) {
                gameState.correctAnswers++;
            }

            gameState.currentQuestion++;

            if (gameState.currentQuestion < 3) {
                showQuestion();
            } else {
                showResult();
            }
        }



        function showResult() {
            showScene('result-scene');
            
            const resultMessage = document.getElementById('result-message');
            const couponContainer = document.getElementById('coupon-container');
            
            if (gameState.correctAnswers === 3) {
                resultMessage.innerHTML = 'ğŸ‰ ì„¸ê³„ ì •ë³µì! ì¶•í•˜í•©ë‹ˆë‹¤!';
                resultMessage.className = 'result-message success';
                
                couponContainer.innerHTML = `
                    <div class="coupon">
                        ğŸ’° 1,000ì› í• ì¸ ì¿ í°
                        <br><small>ì¶•í•˜í•©ë‹ˆë‹¤!</small>
                    </div>
                    <button class="btn" onclick="saveCoupon()">ğŸ“¥ ì¿ í° ì €ì¥</button>
                `;
                
                createConfetti();
                playSound('success');
            } else {
                resultMessage.innerHTML = `ğŸ˜… ${gameState.correctAnswers}ê°œ ì •ë‹µ! ë‹¤ìŒ ê¸°íšŒì— ë„ì „í•´ë³´ì„¸ìš”!`;
                resultMessage.className = 'result-message fail';
                
                showFailAnimation();
                playSound('fail');
            }
        }

        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7'][Math.floor(Math.random() * 5)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    document.querySelector('.game-container').appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 50);
            }
        }

        function showFailAnimation() {
            const img = document.createElement('img');
            img.src = 'ggg.png';
            img.className = 'slide-animation';
            img.style.width = '100px';
            img.style.height = '100px';
            document.querySelector('.game-container').appendChild(img);
            
            setTimeout(() => {
                img.remove();
            }, 4000);
        }

        function playSound(type) {
            const sound = document.getElementById(type === 'success' ? 'success-sound' : 'fail-sound');
            sound.currentTime = 0;
            sound.play().catch(e => console.log('ì†Œë¦¬ ì¬ìƒì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:', e));
        }

        function saveCoupon() {
            // Canvasë¡œ ì¿ í° ì´ë¯¸ì§€ ìƒì„±
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì • (ëª¨ë°”ì¼ ì¹œí™”ì )
            canvas.width = 600;
            canvas.height = 300;
            
            // ë°°ê²½ ê·¸ë¼ë°ì´ì…˜
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#ff6b6b');
            gradient.addColorStop(1, '#ffa500');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ì™¸ê³½ì„ 
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 8;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);
            
            // ë‚´ë¶€ ì¥ì‹ì„ 
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            ctx.setLineDash([10, 5]);
            ctx.strokeRect(40, 40, canvas.width - 80, canvas.height - 80);
            ctx.setLineDash([]);
            
            // í…ìŠ¤íŠ¸ ì„¤ì •
            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'center';
            ctx.shadowColor = 'rgba(0,0,0,0.3)';
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 4;
            
            // ì œëª©
            ctx.font = 'bold 48px Arial, sans-serif';
            ctx.fillText('ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰', canvas.width / 2, 80);
            
            // ì¿ í° ê¸ˆì•¡
            ctx.font = 'bold 72px Arial, sans-serif';
            ctx.fillStyle = '#ffff00';
            ctx.strokeStyle = '#ff4444';
            ctx.lineWidth = 3;
            ctx.strokeText('â‚©1,000', canvas.width / 2, 150);
            ctx.fillText('â‚©1,000', canvas.width / 2, 150);
            
            // í• ì¸ ì¿ í° í…ìŠ¤íŠ¸
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 32px Arial, sans-serif';
            ctx.fillText('í• ì¸ ì¿ í°', canvas.width / 2, 190);
            
            // í•˜ë‹¨ í…ìŠ¤íŠ¸
            ctx.font = '20px Arial, sans-serif';
            ctx.fillText('ğŸŒ ìˆ˜ë„ í€´ì¦ˆ ì±Œë¦°ì§€ ì™„ì£¼ ê¸°ë…', canvas.width / 2, 230);
            
            // ë‚ ì§œ
            const today = new Date();
            const dateStr = `${today.getFullYear()}.${(today.getMonth() + 1).toString().padStart(2, '0')}.${today.getDate().toString().padStart(2, '0')}`;
            ctx.font = '16px Arial, sans-serif';
            ctx.fillText(`ë°œê¸‰ì¼: ${dateStr}`, canvas.width / 2, 260);
            
            // ê·¸ë¦¼ì ì œê±°
            ctx.shadowColor = 'transparent';
            
            // ì¥ì‹ ìš”ì†Œë“¤
            drawStar(ctx, 80, 80, 25, '#ffff00');
            drawStar(ctx, canvas.width - 80, 80, 25, '#ffff00');
            drawStar(ctx, 80, canvas.height - 80, 25, '#ffff00');
            drawStar(ctx, canvas.width - 80, canvas.height - 80, 25, '#ffff00');
            
            // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
            canvas.toBlob(function(blob) {
                const link = document.createElement('a');
                link.download = `ìˆ˜ë„í€´ì¦ˆ_í• ì¸ì¿ í°_${dateStr}.png`;
                link.href = URL.createObjectURL(blob);
                link.click();
                URL.revokeObjectURL(link.href);
                
                // ì„±ê³µ ë©”ì‹œì§€
                setTimeout(() => {
                    alert('ğŸ‰ ì¿ í°ì´ ë‹¤ìš´ë¡œë“œ í´ë”ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\níŒŒì¼ëª…: ' + link.download);
                }, 100);
            }, 'image/png');
        }
        
        function drawStar(ctx, x, y, size, color) {
            ctx.save();
            ctx.fillStyle = color;
            ctx.strokeStyle = '#ff4444';
            ctx.lineWidth = 2;
            ctx.translate(x, y);
            ctx.beginPath();
            
            for (let i = 0; i < 5; i++) {
                ctx.lineTo(0, -size);
                ctx.translate(0, -size);
                ctx.rotate(Math.PI / 5);
                ctx.lineTo(0, size / 2);
                ctx.translate(0, size / 2);
                ctx.rotate(Math.PI / 5);
            }
            
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            ctx.restore();
        }

        function goHome() {
            showScene('start-scene');
        }

        function showScene(sceneId) {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            document.getElementById(sceneId).classList.add('active', 'fade-in');
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ (A, B, C, D)
        document.addEventListener('keypress', function(e) {
            if (document.getElementById('quiz-scene').classList.contains('active')) {
                const key = e.key.toLowerCase();
                if (['a', 'b', 'c', 'd'].includes(key)) {
                    const index = key.charCodeAt(0) - 97; // a=0, b=1, c=2, d=3
                    if (index < gameState.currentOptions.length) {
                        selectOption(index);
                    }
                } else if (e.key === 'Enter' && gameState.selectedOption !== null) {
                    submitAnswer();
                }
            }
        });
    </script>
</body>
</html> 